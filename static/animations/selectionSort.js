import{M as F,i as d,E as h,C as a,k as W,l as m,L as O,r as A,j as p,b as _,T as k,t as z,R as x,n as L,c as u,m as G,u as H,a as $,o as P,N as j,F as M,w as D,s as q,d as S,V as B,f as E,g as T,p as N,h as U}from"./_virtual_settings-3f31c895.js";let V;V??(V=new F("selectionSort",!1));V.loadData({version:0,shared:{background:null,range:[0,null],size:{x:1920,y:500},audioOffset:0},preview:{fps:30,resolutionScale:1},rendering:{fps:60,resolutionScale:1,colorSpace:"srgb",exporter:{name:"@motion-canvas/core/image-sequence",options:{fileType:"image/png",quality:100,groupByScene:!1}}}});const J=V;let R;R??(R=new F("selectionSort",!1));R.loadData({version:0,timeEvents:[],seed:3911136328});const K=R;var Q=Object.defineProperty,X=Object.getOwnPropertyDescriptor,f=(v,e,i,l)=>{for(var s=l>1?void 0:l?X(e,i):e,t=v.length-1,o;t>=0;t--)(o=v[t])&&(s=(l?o(e,i,s):o(s))||s);return l&&s&&Q(e,i,s),s};class g extends O{constructor(e){super({layout:!0,gap:()=>this.boxGap(),spawner:()=>(console.log(`spawner: ${Date.now()}`),this.rects.slice(0,this.length())),...e}),this.length=()=>this.values().length,this.rectsView=(i=0,l=this.length())=>this.rects.slice(i,l),this.rects=[],this.pool=A(64).map(i=>p(x,{ref:_(this.rects,i),size:this.boxWidth(),lineWidth:this.boxStrokeWidth,stroke:a.surface,fill:this.fillColor,radius:this.boxRadius,alignItems:"center",justifyContent:"center",children:p(k,{text:()=>this.values()[i].toString(),...z})}))}*highLightAt(e,i,l=this.highlightColor(),s=L){yield*this.rects[e].stroke(l,i,s)}*highLightAll(e,i=this.highlightColor(),l=L){yield*u(...A(this.values.length).map(s=>this.highLightAt(s,e,i,l)))}*deHighLightAt(e,i,l=this.strokeColor(),s=L){yield*this.rects[e].stroke(l,i,s)}*deHighLightAll(e,i=this.strokeColor(),l=L){yield*u(...A(this.values.length).map(s=>this.deHighLightAt(s,e,i,l)))}addLast(e){this.values([...this.values(),e])}removeLast(){this.values(this.values().slice(0,this.values().length-1))}addFirst(e){this.values([e,...this.values()])}removeFirst(){this.values(this.values().slice(1))}insertAt(e,i){this.values([...this.values().slice(0,e),i,...this.values().slice(e)])}removeAt(e){const i=this.values()[e];return this.values([...this.values().slice(0,e),...this.values().slice(e+1)]),i}*swap(e,i,l){let s=this.rects[e].clone(),t=this.rects[i].clone();this.parent().add(s),this.parent().add(t),s.absolutePosition(this.rects[e].absolutePosition()),t.absolutePosition(this.rects[i].absolutePosition());const o=this.rects[e].opacity(),w=this.rects[i].opacity();this.rects[e].opacity(0),this.rects[i].opacity(0),yield*l(s,t),s.remove(),t.remove(),[this.rects[e],this.rects[i]]=[this.rects[i],this.rects[e]];let C=this.rects[e].children();this.rects[e].children(this.rects[i].children()),this.rects[i].children(C);let c=[...this.values()];[c[e],c[i]]=[c[i],c[e]],this.values(c),this.rects[e].opacity(o),this.rects[i].opacity(w)}*swapUpDown(e,i,l){const s=this.boxGap()+this.boxWidth();yield*this.swap(e,i,function*(t,o){yield*u(t.y(t.y()-s,.5),o.y(o.y()-s,.5)),yield*u(t.x(o.x(),l),o.x(t.x(),l)),yield*u(t.y(t.y()+s,.5),o.y(o.y()+s,.5))})}}f([d([]),m()],g.prototype,"values",2);f([d(128),m()],g.prototype,"boxWidth",2);f([d(128),m()],g.prototype,"boxHeight",2);f([d(28),m()],g.prototype,"boxGap",2);f([d(4),m()],g.prototype,"boxRadius",2);f([d(8),m()],g.prototype,"boxStrokeWidth",2);f([d(new h(a.blue)),W()],g.prototype,"highlightColor",2);f([d(new h(a.surface)),W()],g.prototype,"strokeColor",2);f([d(new h(a.background)),W()],g.prototype,"fillColor",2);const b=G(function*(v){const e=H().variables.get("seed",42),i=H().variables.get("size",8),l=$(e()),s=A(i()).map(r=>l.nextInt(1,70)),t=S(),o=S(),w=S(),C=P(0),c=P(0);v.fill(a.background),v.add(p(M,{children:[p(g,{ref:t,values:s,highlightColor:new h(a.blue),strokeColor:new h(a.surface),fillColor:new h(a.background)}),p(j,{ref:o,x:()=>t().left().x+t().boxWidth()/2+C()*(t().boxWidth()+t().boxGap()),y:t().boxHeight()/2+20,children:[p(x,{stroke:a.blue,lineWidth:4,radius:4,width:t().boxWidth(),height:2,opacity:1}),p(k,{fill:a.whiteLabel,text:()=>`i = ${Math.ceil(C())}`,scale:.8,y:30})]}),p(j,{ref:w,x:()=>t().left().x+t().boxWidth()/2+c()*(t().boxWidth()+t().boxGap()),y:-t().boxHeight()/2-20,children:[p(x,{stroke:a.blue,lineWidth:4,radius:4,width:t().boxWidth(),height:2,opacity:1}),p(k,{fill:a.whiteLabel,text:()=>`j = ${Math.ceil(c())}`,scale:.8,y:-30})]})]})),yield*D(1);for(let r=0;r<t().length();r++){yield*C(r,.5);let n=r;yield*t().rectsView()[n].fill(t().highlightColor,.5),r+1<t().length()&&(c(r+1),yield*w().opacity(1,.3));for(let y=r+1;y<t().length();y++)yield*u(t().highLightAt(y,.5),c(y,.5)),t().values()[n]>t().values()[y]?(yield*u(t().rectsView()[n].fill(new h(a.transparent),.5),t().rectsView()[y].fill(t().highlightColor,.5),t().deHighLightAt(y,.5)),n=y):yield*t().deHighLightAt(y,.5);yield*w().opacity(0,.3),r!=n?(yield*u(t().rectsView()[n].fill(new h(a.transparent),.5),t().highLightAt(n,.5)),yield*t().swapUpDown(r,n,.5),yield*u(t().deHighLightAt(r,.5),t().deHighLightAt(n,.5))):yield*t().rectsView()[n].fill(new h(a.transparent),.5),yield*t().rectsView()[r].stroke(new h(a.green),.5)}yield*u(o().opacity(0,.3),w().opacity(0,.3)),yield*D(.5),yield*q(.1,...t().rectsView().map(r=>r.fill(new h(a.green),.3)))});b.name="selectionSort";K.attach(b.meta);b.onReplaced??(b.onReplaced=new B(b.config));const Y=E({scenes:[b],variables:{size:8,seed:42}}),I=T("selectionSort",{core:"3.16.0",two:"3.16.0",ui:"3.16.0",vitePlugin:"3.15.1"},[N()],Y,J,U);export{I as default};
